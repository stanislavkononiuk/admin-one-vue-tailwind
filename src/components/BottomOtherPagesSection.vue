<template>
  <titled-section last>
    <h1 class="flex items-center justify-center flex-col md:flex-row text-2xl text-gray-500 mb-12">
        <span class="md:mr-3">Please star this project on</span>
        <a
          href="https://github.com/justboil/admin-one-vue-tailwind"
          class="inline-flex items-center justify-center text-blue-500"
          target="_blank"
        >
          <icon :path="mdiGithub" size="36" class="mr-1" />
          <span>GitHub</span>
        </a>
    </h1>
    <h1 class="text-2xl text-gray-500">
      Check out other components and layouts at<br>
      <template v-for="(screen, index) in screens" :key="screen.path">
        <router-link
          :to="screen.path"
          class="text-blue-500"
        >{{ screen.title }}</router-link>
        <template v-if="index + 1 < screens.length">, </template>
      </template>
      <br>
      screen samples
    </h1>
  </titled-section>
</template>

<script>
import { useRouter } from 'vue-router'
import { mdiGithub } from '@mdi/js'
import TitledSection from '@/components/TitledSection'
import Icon from '@/components/Icon'

export default {
  name: 'BottomOtherPagesSection',
  components: {
    TitledSection,
    Icon
  },
  setup () {
    const router = useRouter()

    const routes = router.getRoutes()

    const screens = []

    for (const routeIndex in routes) {
      const path = routes[routeIndex].path
      const title = routes[routeIndex].meta && routes[routeIndex].meta.title ? routes[routeIndex].meta.title : null

      if (title) {
        screens.push({
          path,
          title
        })
      }
    }

    return {
      screens,
      mdiGithub
    }
  }
}
</script>
